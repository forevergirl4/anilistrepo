<ion-view ng-init="findManga()">
  <ion-content>
    <ion-list class="list-inset">
      <div class="text-center">
        <span>ANIME TITLE</span>
          <div class="animangadet-avatar">
            <img ng-src="{{mangadetail.image_url_lge}}">
          </div>
      </div>
        <div class="Info">
          <ion-item class="item-stable"
                    ng-click="toggleGroup(group)"
                    ng-class="{active: isGroupShown(group)}">
            INFO
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.type">
             Type:  {{mangadetail.type}}
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.total_episodes">
             Episodes:  {{mangadetail.total_episodes}}
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.airing_status">
             Status: {{mangadetail.airing_status}}
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.start_date">
             Start: {{mangadetail.start_date | date:"medium"}}
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.season">
             Season: {{mangadetail.season}}
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.average_score">
             Avg Score: {{mangadetail.average_score}}%
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.mean_score">
             Mean Score: {{mangadetail.mean_score}}%
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.popularity">
             Popularity: {{mangadetail.popularity}}
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.studio">
             Main Studio: {{mangadetail.studio.studio_name}}
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.duration">
             Duration: {{mangadetail.duration}} mins.
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.genres">
             <span> Genres:
              <div ng-repeat="genre in mangadetail.genres">
               {{genre}}
              </div>
             </span>
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.hashtag">
            Hashtag: {{mangadetail.hashtag}}
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.title_romaji">
            Romaji: {{mangadetail.title_romaji}}
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.title_english">
            English: {{mangadetail.title_english}}
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.title_japanese">
            Japanese: {{mangadetail.title_japanese}}
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-hide="!mangadetail.synonyms">
            <span> Synonyms:
              <div ng-repeat="synonym in mangadetail.synonyms">
                {{synonym}}
              </div>
            </span>
          </ion-item>
        </div>
        <div class="Tags">
          <ion-item class="item-stable"
                    ng-click="toggleGroup(group)"
                    ng-class="{active: isGroupShown(group)}">
              <!-- <i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
            &nbsp; -->
            TAGS
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-repeat="tag in mangadetail.tags">
             {{tag.name}} : {{tag.votes}}%
             <div>{{tag.description}}</div>
          </ion-item>
        </div>
        <div class="Desc">
          <ion-item class="item-stable"
                    ng-click="toggleGroup(group)"
                    ng-class="{active: isGroupShown(group)}">
              <!-- <i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
            &nbsp; -->
            DESCRIPTION
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)">
             {{mangadetail.description}}
          </ion-item>
        </div>
        <div class="rel">
          <ion-item class="item-stable"
                    ng-click="toggleGroup(group)"
                    ng-class="{active: isGroupShown(group)}">
              <!-- <i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
            &nbsp; -->
            RELATIONS
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-repeat="relation in mangadetail.relations">
            {{relation.relation_type}} : {{relation.title_romaji}}
          </ion-item>
        </div>
        <div class="rel">
          <ion-item class="item-stable"
                    ng-click="toggleGroup(group)"
                    ng-class="{active: isGroupShown(group)}">
              <!-- <i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
            &nbsp; -->
            CHARACTERS
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-repeat="character in mangadetail.characters">
            <img ng-src="{{character.image_url_med}}"></img>  {{character.name_first}}  {{character.name_last}} dubbed by <span ng-repeat="actor in character.actor"><img ng-src="{{actor.image_url_med}}"></img> {{actor.name_first}} {{actor.name_last}}</span>
          </ion-item>
        </div>
        <div class="staff">
          <ion-item class="item-stable"
                    ng-click="toggleGroup(group)"
                    ng-class="{active: isGroupShown(group)}">
              <!-- <i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
            &nbsp; -->
            STAFF
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-repeat="staff in mangadetail.staff">
             <span><img ng-src="{{staff.image_url_med}}"></img>
              {{staff.name_first}}
             <br>{{staff.name_last}}
             </span>
          </ion-item>
        </div>
        <div class="rank">
          <ion-item class="item-stable"
                    ng-click="toggleGroup(group)"
                    ng-class="{active: isGroupShown(group)}">
              <!-- <i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
            &nbsp; -->
            RANKINGS
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)" ng-repeat="rank in mangadetail.rankings">
            #{{rank.rank}} {{rank.type_string}}
          </ion-item>
        </div>
        <div class="scoredis">
          <ion-item class="item-stable"
                    ng-click="toggleGroup(group)"
                    ng-class="{active: isGroupShown(group)}">
              <!-- <i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
            &nbsp; -->
            SCORE DISTRIBUTION
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)">
            <div id="bar-chart">
              <canvas id="bar" class="chart chart-bar" chart-data="bar.data" chart-labels="bar.labels" chart-series="bar.series"></canvas>
            </div>
          </ion-item>
        </div>
        <div class="users">
          <ion-item class="item-stable"
                    ng-click="toggleGroup(group)"
                    ng-class="{active: isGroupShown(group)}">
              <!-- <i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
            &nbsp; -->
            USERS
          </ion-item>
          <ion-item class="item-accordion" ng-show="isGroupShown(group)">
             <div id="bar-chart">
                <canvas id="pie" class="chart chart-pie" chart-data="pie.data" chart-labels="pie.labels" chart-series="pie.series">
                </canvas> 
              </div>
          </ion-item>
        </div>
    </ion-list>
  </ion-content>
</ion-view>